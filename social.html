<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ARCSV Youth</title>
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="style.css" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
<script type="text/javascript" src="instafeed.js"></script>
<style>
.insta-pic {
  padding:15px;
  text-align: center;
  width:100%;
  border:1px solid #DDD;
  border-radius: 2px;
}
.text-cut {
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
}
</style>


</head>
<body>

  <!--navbar-->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-nav-login" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="index.html" class="navbar-brand">ARCSV Youth</a>
      </div>
      <div class="collapse navbar-collapse" id="main-nav-login">
        <ul class="nav navbar-nav">
          <li><a href="upcoming.html">Upcoming</a></li>
          <li><a href="committees.html">Committees</a></li>
          <li><a href="newsletters.html">Newsletters</a></li>
          <li><a href="calendar.html">Calendar</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li class="active"><a href="#">Social Wall</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- navbar ends -->
  <div class="jumbotron header-jumbo">
    <div class="container">
      <h1>Social Wall</h1>
      <p>Posts from our Facebook and Instagram!</p>
    </div>
  </div>
<!-- photo albums -->
<div class="container">
  <h2>Photo Albums</h2>
  <table class="table">
    <thead>
      <tr>
        <th>Date</th>
        <th>Event</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>September 3, 2017</td>
        <td><a href="https://drive.google.com/drive/folders/0B-SV8ByG1e4VdnJOQnFmMnJwOTA">Club Officer Orientation</a></td>
      </tr>
      <tr>
        <td>Lorem ipsum</td>
        <td><a href="">dolor sit amet</a></td>
      </tr>
    </tbody>
  </table>
</div>

<!-- instagram feed -->
<div class="container">
  <h2>Instagram Feed</h2>
  <div id="instafeed" class="row">
  </div>
  <button class="btn btn-default btn-lg btn-block" id="load-more">Load More</button>
</div>

<!-- facebook page plugin -->
<!-- <div class="container">
  <iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Farcsvyouth%2F&tabs=timeline&width=500&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId=1644872702211926" width="500" height="500" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
</div> -->
<hr />

<!--jquery and Bootstrap javascript-->
  <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
<script>
// fix this!
// var evenText = function(obj) {
//   alert("PRETEND EVEN TEXT WORKS OKAY");
//
//    // if (document.onLoad) {
//     alert("entered func");
//     var numberOfPosts = document.getElementById('instafeed').childNodes.length;
//     alert("number of posts is " + numberOfPosts);
//     for (var i = 0; i < numberOfPosts - 1; i++) {
//       var postContainer = document.getElementById('instafeed')[i];
//       var post = postContainer.childNodes[0];
//       var caption = post.childNodes[1];
//       // var post = postContain.getElementsByTagName('div');
//       // var caption = post.getElementsByTagName('p').textContent;
//       var captionText = caption.textContent;
//       alert(captionText);
//     }
//     alert('it worked!!!!!');
//    // }
// };

// var evenText = function(text) {
//   var caption = text.textContent;
//   if (caption.length > 40) {
//     alert("too long!");
//     text.innerHTML = text.substring(0,40);
//   }
// };
</script>
  <script type="text/javascript">
  // load the pictures and captions
  var loadButton = document.getElementById('load-more');
  var userFeed = new Instafeed({
    get: 'user',
    userId: '4250452460',
    sortBy: 'most-recent',
    limit: 4,
    resolution: 'low_resolution',
    accessToken: '4250452460.3f15772.5503ea21e2c6423580685087af057439',//'3f157723e1014df9b899ff3ea3c7cd58'
    template: '<div class="col-lg-3 col-md-4 col-sm-6 insta-container" style="margin-bottom:20px;"><div class="insta-pic"><a href="{{link}}" target="_blank" class="thumbnail"><img src="{{image}}" class="img-responsive"/></a><p class="text-cut">{{caption}}</p></div></div>',
    after: function() {
      if (!this.hasNext()) {
        loadButton.setAttribute('disabled', 'disabled');
      }
    }
  });

  // curl -F 'client_id=3f157723e1014df9b899ff3ea3c7cd58' -F 'client_secret=840bd85f4d204df3acdfe429d4ef0b29' -F 'grant_type=authorization_code' -F 'redirect_uri=https://arcsvyouth.github.io' -F 'code=56123fcdf2104d5784cd27d1b396643e' https://api.instagram.com/oauth/access_token
</script>

<script>
// make all the heights the same
  var toMaxHeight = function() {
    var maxHeight = 0;
    $(".insta-container").height("100%");
    if ($(document).width() > 766) {
      var heights = $(".insta-container").map(function() {
          return $(this).height();
      }).get();
      maxHeight = Math.max.apply(null, heights);
      console.log(maxHeight);
      $(".insta-container").height(maxHeight);
    }
  };
  // uncomment this when you want to use toMaxHeight (and after you fix evenText)
  $(document).ready(toMaxHeight);

  $(window).resize(toMaxHeight);

  loadButton.addEventListener("click", function() {
    userFeed.next();

    toMaxHeight();
  }
  );
  userFeed.run();
  </script>
  <!--made with â™¥ by shannon ding sometime around august of 2017-->
</html>
